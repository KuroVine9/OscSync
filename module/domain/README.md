[멀티모듈 이야기](https://techblog.woowahan.com/2637/)

# 도메인 모듈 계층
시스템의 중심 도메인을 다루는 모듈을 이 계층에 배치하였습니다. 아래의 내부 모듈 계층 과 비슷한 성격의 계층이지만, 저장소와 밀접한 중심 도메인을 다루는 계층은 더 견고하고 특별하게 격리되고 관리되어야 하기 때문에 반드시 분리되어야 합니다.

이 계층은 아래와 같은 원칙을 갖습니다.

서비스 비지니스를 모른다.
하나의 모듈은 최대 하나의 인프라스트럭처에 대한 책임만 갖는다.
도메인 모듈을 조합한 더 큰 단위의 도메인 모듈이 있을 수 있다.

이 계층에는 프로젝트 안의 어떠한 실행 가능한 어플리케이션에서도 사용 가능한 모듈이 위치해야 합니다. 그러기 위해서는 저장소 외 시스템 특성을 알지 않아야 하기 때문에 내부 모듈 계층을 의존하지 않도록 구성했습니다.


이 계층의 모듈은 오로지 도메인에 집중합니다. 어떠한 도메인이든 그 도메인이 가져야할 서비스와 무관한 도메인의 비지니스가 있습니다. 도메인 중심 설계에 대한 내용으로 견고한 도메인에서부터 프로젝트를 만들어 올라가면 자연스럽게 이러한 구조가 나올 수 있기도 합니다.

하나의 모듈은 최대 하나의 인프라스터럭처를 갖는 것은 의존성의 전파를 방지하기 위해서입니다. 사용하지 않는 인프라스트럭처에 대한 설정까지 해줘야 했던 실패한 멀티 모듈에서 배운 경험으로 인프라스트럭처 단위로 최대한 작은 단위부터 작성되야 한다는 것을 알게 되었습니다.

